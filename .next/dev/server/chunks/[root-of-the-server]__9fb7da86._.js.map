{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Likesh/Downloads/tinylink/lib/db.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\n\nexport async function connectDB() {\nif (mongoose.connection.readyState >= 1) return;\nawait mongoose.connect(process.env.MONGODB_URI, {\ndbName: \"tinylink\",\n});\n}"],"names":[],"mappings":";;;;AAAA;;AAGO,eAAe;IACtB,IAAI,oHAAQ,CAAC,UAAU,CAAC,UAAU,IAAI,GAAG;IACzC,MAAM,oHAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;QAChD,QAAQ;IACR;AACA"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Likesh/Downloads/tinylink/models/Link.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\n\nconst LinkSchema = new mongoose.Schema(\n{\ncode: { type: String, required: true, unique: true },\nurl: { type: String, required: true },\nclicks: { type: Number, default: 0 },\nlastClicked: { type: Date, default: null },\n},\n{ timestamps: true }\n);\n\n\nexport default mongoose.models.Link || mongoose.model(\"Link\", LinkSchema);"],"names":[],"mappings":";;;;AAAA;;AAGA,MAAM,aAAa,IAAI,oHAAQ,CAAC,MAAM,CACtC;IACA,MAAM;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IACnD,KAAK;QAAE,MAAM;QAAQ,UAAU;IAAK;IACpC,QAAQ;QAAE,MAAM;QAAQ,SAAS;IAAE;IACnC,aAAa;QAAE,MAAM;QAAM,SAAS;IAAK;AACzC,GACA;IAAE,YAAY;AAAK;uCAIJ,oHAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,oHAAQ,CAAC,KAAK,CAAC,QAAQ"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Likesh/Downloads/tinylink/app/%5Bcode%5D/route.js"],"sourcesContent":["// Redirect route placeholder\nimport { NextResponse } from \"next/server\";\nimport { connectDB } from \"@/lib/db\";\nimport Link from \"@/models/Link\";\n\nexport async function GET(_, { params }) {\n  await connectDB();\n\n  const link = await Link.findOne({ code: params.code });\n\n  if (!link) return NextResponse.json({ error: \"Not found\" }, { status: 404 });\n\n  // update click count\n  link.clicks += 1;\n  link.lastClicked = new Date();\n  await link.save();\n\n  return NextResponse.redirect(link.url); // 302\n}\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAC7B;AACA;AACA;;;;AAEO,eAAe,IAAI,CAAC,EAAE,EAAE,MAAM,EAAE;IACrC,MAAM,IAAA,wHAAS;IAEf,MAAM,OAAO,MAAM,2HAAI,CAAC,OAAO,CAAC;QAAE,MAAM,OAAO,IAAI;IAAC;IAEpD,IAAI,CAAC,MAAM,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAY,GAAG;QAAE,QAAQ;IAAI;IAE1E,qBAAqB;IACrB,KAAK,MAAM,IAAI;IACf,KAAK,WAAW,GAAG,IAAI;IACvB,MAAM,KAAK,IAAI;IAEf,OAAO,gJAAY,CAAC,QAAQ,CAAC,KAAK,GAAG,GAAG,MAAM;AAChD"}}]
}