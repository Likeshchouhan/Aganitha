{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Likesh/Downloads/tinylink/app/api/links/route.js"],"sourcesContent":["import { connectDB } from \"@/lib/db\";\nimport Link from \"@/models/Link\";\n\n\nexport async function GET() {\nawait connectDB();\nconst links = await Link.find().sort({ createdAt: -1 });\nreturn Response.json(links);\n}\n\n\nexport async function POST(req) {\nawait connectDB();\nconst { url, code } = await req.json();\n\n\nconst finalCode = code || Math.random().toString(36).substring(2, 8);\n\n\nconst exists = await Link.findOne({ code: finalCode });\nif (exists) return new Response(\"Conflict\", { status: 409 });\n\n\nconst link = await Link.create({ code: finalCode, url });\nreturn Response.json(link);\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAIO,eAAe;IACtB,MAAM;IACN,MAAM,QAAQ,MAAM,KAAK,IAAI,GAAG,IAAI,CAAC;QAAE,WAAW,CAAC;IAAE;IACrD,OAAO,SAAS,IAAI,CAAC;AACrB;AAGO,eAAe,KAAK,GAAG;IAC9B,MAAM;IACN,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,IAAI;IAGpC,MAAM,YAAY,QAAQ,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG;IAGlE,MAAM,SAAS,MAAM,KAAK,OAAO,CAAC;QAAE,MAAM;IAAU;IACpD,IAAI,QAAQ,OAAO,IAAI,SAAS,YAAY;QAAE,QAAQ;IAAI;IAG1D,MAAM,OAAO,MAAM,KAAK,MAAM,CAAC;QAAE,MAAM;QAAW;IAAI;IACtD,OAAO,SAAS,IAAI,CAAC;AACrB"}}]
}